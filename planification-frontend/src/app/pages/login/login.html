<div class="auth-main">
	<div class="auth-block">
		<h1 translate="general.application.title"></h1>
		<div class="auth-link text-info" style="margin-left: 15px;"
			translate="login.authentication"></div>
		<form [formGroup]="form" (ngSubmit)="onSubmit(form.value)"
			class="form-horizontal">
			<div class="form-group row"
				[ngClass]="{'has-error': (!username.valid && username.touched), 'has-success': (username.valid && username.touched)}">
				<label for="username" class="col-sm-3 control-label"
					translate="login.login"> Login </label>

				<div class="col-sm-9">
					<input [formControl]="username" type="text" class="form-control"
						id="username" name="username"
						placeholder="{{'login.login' | translate}}">
				</div>
			</div>
			<div class="form-group row"
				[ngClass]="{'has-error': (!password.valid && password.touched), 'has-success': (password.valid && password.touched)}">
				<label for="inputPassword3" class="col-sm-3 control-label"
					translate="login.password">Password</label>

				<div class="col-sm-9">
					<input [formControl]="password" type="password"
						class="form-control" id="inputPassword3"
						placeholder="{{'login.password' | translate}}">
				</div>
			</div>
			<div class="form-group row">
				<div class="offset-sm-2 col-sm-10">
					
					<button [disabled]="!form.valid" type="submit"
						class="btn btn-default btn-auth" translate="action.signIn">Sign	in</button>
					<a href (click)="onForgotPassword()" class="forgot-pass"
						translate="login.forgotPassword">Forgot password?</a>
				</div>
			</div>

			<div *ngIf="error" class="alert alert-danger">{{error}}</div>
		</form>

	</div>
</div>

<p-growl [(value)]="msg" [sticky]="true" [life]="2000"></p-growl>
<p-dialog [header]="'login.forgotPassword' | translate" [(visible)]="displayDialog" [resizable]="false" [responsive]="true" [modal]="true"
  width="400">
  <div class="ui-grid ui-grid-responsive ui-fluid">
    <form [formGroup]="form" name="formForgotPassword">
      <div class="ui-grid-row" [ngClass]="{'has-error': (!login.valid && login.touched), 'has-success': (login.valid && login.touched)}">
        <label for="login" class="ui-grid-col-4 control-label-dialog" translate="login.login">Login</label>
        <div class="ui-grid-col-8">
          <input [formControl]="login" type="text" class="form-control form-control-dialog" id="login" [placeholder]="'login.login' | translate">
        </div>
      </div>
	  <div class="ui-grid-row" [ngClass]="{'has-error': (!email.valid && email.touched), 'has-success': (email.valid && email.touched)}">
        <label for="email" class="ui-grid-col-4 control-label-dialog" translate="login.email">Email</label>
        <div class="ui-grid-col-8">
          <input [formControl]="email" type="email" class="form-control form-control-dialog" id="email" [placeholder]="'login.email' | translate">
        </div>
      </div>
      <span class="help-block sub-little-text" *ngIf="errorDialog">{{errorDialog}}</span>
    </form>
  </div>
  <p-footer>
    <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix" style="border:0;">
      <button type="button" class="btn btn-primary btn-with-icon" style="margin-left:10px;" data-toggle="tooltip" [title]="'action.cancel' | translate"
        (click)="onCloseDialog()">
              <i class="ion-android-cancel"></i>{{'action.cancel' | translate}}
            </button>
      <button [disabled]="!formForgotPassword.valid" type="button" class="btn btn-success btn-with-icon" data-toggle="tooltip"
        [title]="'action.send' | translate" (click)="onSubmitPassword(formForgotPassword.value)">
          <i class="ion-android-mail"></i>{{'action.send' | translate }}</button>
    </div>
  </p-footer>
</p-dialog>
